<!-- <pre> {{associations | json}} </pre> -->
<!-- <div>{{singleTable}}</div><br> -->
<!-- <div>{{theDbName}}</div><br> -->
<!-- <div>{{allTables}}</div><br> -->
<!-- <div>{{theTableName}}</div><br> -->

{{columnsForQuery}}

<form ng-submit="getColumnsForTable()" ng-model="select">
  <div class="checkbox">
    <label ng-repeat="table in currentTableAssociations track by $index">
      <input value="table" ng-model="select.table1" ng-click="getAssociated($index)" type="checkbox"> {{table}}
    </label>
  </div>
  <button type="submit" class="btn btn-default">Submit</button>
</form>


<form ng-submit="logFunc(query)" ng-model="query">
  <div ng-repeat="column in columnsForQuery" class="checkbox">
    <p>{{column.tableName}}</p>
    <label ng-repeat="name in column.columns">
      <input value="table" ng-model="select.table1" ng-click="getAssociated($index)" type="checkbox"> {{name}}
    </label>
  </div>
  <button type="submit" class="btn btn-default">Submit</button>
</form>



<div>
  <form ng-model="data" ng-submit="filter(currentTable.dbName, currentTable.tableName, data)"> 
    <span>Filter {{currentTable.tableName}} where</span>
    <select ng-model="data.column">
      <option ng-repeat="column in columns">{{ column }}</option>
    </select>
    <select ng-model="data.comparator">
      <option>=</option>
      <option><</option>
      <option>></option>
      <option><=</option>
      <option>>=</option>
      <option><></option>
    </select>
    <input ng-model="data.value"></input>
    <button type="submit" class="btn btn-primary">Submit query</button>
  </form>
</div>
<button ng-click="toggleDelete()" type="submit" class="btn btn-primary">Delete Mode</button>
<button ng-click="newRow(theDbName, theTableName, instanceArray)" type="submit" class="btn btn-default">Add Row</button>
<button ng-click="addColumn(theDbName, theTableName)" type="submit" class="btn btn-default">Add Column</button>


<table class="table table-bordered">
    <thead>
      <tr>
        <th ng-show="showDelete">
          <button type="button" class="btn btn-danger" ng-click="deleteSelected(theDbName, theTableName, instanceArray)">Delete Selected</button>
          <label> Select All <input type="checkbox" ng-model="selectedAll" ng-click="selectAll(instanceArray)"></label>
        </th>
        <th>id</th>
        <th ng-repeat="column in columns track by $index" ng-if="$index >= myIndex">
            <input placeholder="{{column}}" ng-model='newColumnName' type="text" class="form-control" ng-keyup="updateColumns(column, newColumnName, $index)">
            <button ng-if="showDelete" type="button" ng-click="removeColumn(theDbName, theTableName, column)" class="btn btn-sm btn-danger">x</button>
        </th>
        <th>
          <p ng-click="addColumn(theDbName, theTableName)" class='glyphicon glyphicon-plus'></p>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="row in instanceArray">
        <td ng-show="showDelete">
          <input type="checkbox" ng-model="row.selected" ng-click="uncheckSelectAll(instanceArray)">
          <button type="button" ng-click="removeRow(theDbName, theTableName, row[0])" class="btn btn-sm btn-danger">x</button>
        </td>
        <td>{{row[0]}}</td>
        <td ng-repeat="value in row track by $index" ng-if="$index >= myIndex">
            <input placeholder="{{value}}" ng-model='newCell' type="text" class="form-control" ng-keyup="updateRow(value, newCell, row, $index)">
        </td>
        <td></td>
      </tr>
    </tbody>
</table>


<button ng-if="colValsToUpdate.length > 0 || rowValsToUpdate.length > 0" ng-click="updateBackend()" type="submit" class="btn btn-default">Submit</button>

    <button type="button" class="btn btn-danger" ng-click="deleteDb()">Delete table</button>





<!-- <div ng-controller="DeleteDbInstanceCtrl">
    <script type="text/ng-template" id="deleteTableContent.html">
        <div class="modal-header">
            <h3 class="modal-title">You are about to delete your database!</h3>
        </div>
        <div class="modal-body">
            Once you delete your database it cannot be undone. Type 'DROP TABLE' to delete your database.
            <form name="deleteForm" novalidate> 

           <div class="form-group">
               <input type="text" name="name" class="form-control" ng-model="formVal" required>
           </div>

        
        <div class="modal-footer">
            <button type="button" class="btn btn-danger" ng-disabled="formVal !== dropTable" ng-click="deleteTable()">Delete this table</button>
            <button class="btn btn-primary" type="button" ng-click="cancel()">Cancel</button>
        </div>
               </form>

        </div>
    </script>

</div> -->



